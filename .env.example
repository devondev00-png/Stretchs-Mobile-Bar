# -----------------------------------------------------------------------------
# DATABASE (Supabase / Postgres)
# -----------------------------------------------------------------------------
# Connection string to your Postgres database.
# For Supabase & Serverless: Use the "Transaction" connection string (port 6543)
# Format: postgres://[user]:[password]@[host]:[port]/[db]
DATABASE_URL="postgresql://postgres:[password]@db.[project].supabase.co:6543/postgres"

# -----------------------------------------------------------------------------
# SITE CONFIGURATION
# -----------------------------------------------------------------------------
# The canonical URL of your site. Used for SEO, OpenGraph, and Auth redirects.
# Production: https://stretchs-mobile-bar.vercel.app
# Local: http://localhost:3000
NEXT_PUBLIC_SITE_URL="http://localhost:3000"

# -----------------------------------------------------------------------------
# AUTHENTICATION (NextAuth.js)
# -----------------------------------------------------------------------------
# Generate a secure random string: `openssl rand -base64 32`
NEXTAUTH_SECRET="change-me-to-a-long-random-string"

# Steps to rotate if leaked:
# 1. Generate new secret
# 2. Update env var in Vercel
# 3. Redeploy (sessions will be invalidated)

# For production, this is auto-inferred by Vercel, but good to set explicit.
NEXTAUTH_URL="http://localhost:3000"

# -----------------------------------------------------------------------------
# ADMIN ACCESS CONTROL
# -----------------------------------------------------------------------------
# Comma-separated list of emails allowed to access /admin
# CRITICAL: If empty, ANY logged-in user might access admin in some configs.
ADMIN_ALLOWLIST_EMAILS="your-email@example.com"

# Admin Credentials Login (Optional fallback if Google fails)
ADMIN_EMAIL="admin@input.com"
# Generate hash: node -e "console.log(require('bcryptjs').hashSync('password', 10))"
ADMIN_PASSWORD_HASH=""

# -----------------------------------------------------------------------------
# GOOGLE OAUTH (Admin Login)
# -----------------------------------------------------------------------------
# 1. Go to Google Cloud Console -> APIs & Services -> Credentials
# 2. Create OAuth 2.0 Client ID
# 3. Add Authorized Redirect URI: [NEXT_PUBLIC_SITE_URL]/api/auth/callback/google
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# -----------------------------------------------------------------------------
# STRIPE PAYMENTS (Live Mode)
# -----------------------------------------------------------------------------
# 1. Stripe Dashboard -> Developers -> API Keys
STRIPE_SECRET_KEY="sk_live_..."
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_live_..."

# 2. Stripe Dashboard -> Developers -> Webhooks
# Endpoint: [NEXT_PUBLIC_SITE_URL]/api/stripe/webhook
# Events: checkout.session.completed
STRIPE_WEBHOOK_SECRET="whsec_..."

# -----------------------------------------------------------------------------
# CLOUDINARY (Image Uploads)
# -----------------------------------------------------------------------------
# Dashboard -> Programmable Media -> Dashboard
CLOUDINARY_CLOUD_NAME=""
CLOUDINARY_API_KEY=""
CLOUDINARY_API_SECRET=""

# -----------------------------------------------------------------------------
# RESEND (Email Notifications)
# -----------------------------------------------------------------------------
# API Keys -> Create API Key
RESEND_API_KEY="re_..."
FROM_EMAIL="Stretchs Mobile Bar <enquiries@yourdomain.com>"
TO_EMAIL="your-email@example.com"

# -----------------------------------------------------------------------------
# HCAPTCHA (Optional Anti-Spam)
# -----------------------------------------------------------------------------
NEXT_PUBLIC_HCAPTCHA_SITE_KEY=""
HCAPTCHA_SECRET=""
